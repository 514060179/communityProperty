(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-roomDetail-roomDetail"],{"081c":function(t,e,o){"use strict";o.r(e);var i=o("5d40"),n=o.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},25189:function(t,e,o){"use strict";o.r(e);var i=o("c77e"),n=o("081c");for(var s in n)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(s);o("5b88");var u=o("828b"),a=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"b4137926",null,!1,i["a"],void 0);e["default"]=a.exports},5692:function(t,e,o){"use strict";o("6a54");var i=o("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getRoomOweFees=function(t,e){return new Promise((function(o,i){t.context.get({url:n.default.listOweFees,data:e,success:function(t){if(200==t.statusCode){var e=t.data.data;return e.length<1&&i(),e.forEach((function(t){t.endTime=s.default.dateTimeStringToDateString(t.endTime),t.deadlineTime=s.default.dateTimeStringToDateString(t.deadlineTime)})),void o(e)}i()},fail:function(t){i()}})}))},e.listFeeDetail=function(t,e){return new Promise((function(o,i){t.context.get({url:n.default.listFeeDetail,data:e,success:function(t){o(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.loadFees=function(t,e){return new Promise((function(o,i){t.context.get({url:n.default.listFee,data:e,success:function(t){o(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryFeeDetail=function(t,e){return new Promise((function(o,i){t.context.get({url:n.default.queryFeeDetail,data:e,success:function(t){o(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveRoomCreateFee=function(t,e){return new Promise((function(o,i){t.context.post({url:n.default.saveRoomCreateFee,data:e,success:function(t){o(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.toPayOweFee=function(t,e){return new Promise((function(o,i){t.context.post({url:n.default.toQrOweFeePay,data:e,success:function(t){o(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},o("bf0f"),o("2797");var n=i(o("f3d1")),s=i(o("ecef"))},"5b88":function(t,e,o){"use strict";var i=o("aff4"),n=o.n(i);n.a},"5d40":function(t,e,o){"use strict";o("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("bf0f"),o("2797"),o("5c47"),o("a1c1");var i=o("dd4b"),n=o("5692"),s=o("dae2"),u={data:function(){return{floorNum:"",floorId:"",unitNum:"",unitId:"",roomNum:"",roomId:"",roomInfo:{},fees:[]}},computed:{getBuilding:function(){return this.$t("please_select_building")},getUnit:function(){return this.$t("please_select_unit")},getHouse:function(){return this.$t("please_select_house")},getBuildingFirst:function(){return this.$t("please_select_building_first")},getUnitFirst:function(){return this.$t("please_select_unit_first")}},onLoad:function(){this.java110Context.onLoad()},onShow:function(){var t=uni.getStorageSync("_selectFloor");this.util.isNotNull(t)&&(this.floorNum=t.floorNum+"栋",this.floorId=t.floorId);var e=uni.getStorageSync("_selectUnit");this.util.isNotNull(e)&&(this.unitNum=e.unitNum+"单元",this.unitId=e.unitId);var o=uni.getStorageSync("_selectRoom");this.util.isNotNull(o)&&(this.roomNum=o.roomNum+"室",this.roomId=o.roomId,this._loadRoomInfo(),this._loadFees())},onUnload:function(){uni.removeStorageSync("_selectFloor"),uni.removeStorageSync("_selectUnit"),uni.removeStorageSync("_selectRoom")},methods:{chooseFloor:function(t){uni.removeStorageSync("_selectFloor"),this.floorNum="",this.floorId="",uni.removeStorageSync("_selectUnit"),this.unitNum="",this.unitId="",uni.removeStorageSync("_selectRoom"),this.roomNum="",this.roomId="",this.context.navigateTo({url:"/pages/selectFloor/selectFloor"})},chooseUnit:function(t){null!=this.floorId&&""!=this.floorId?(uni.removeStorageSync("_selectUnit"),this.unitNum="",this.unitId="",uni.removeStorageSync("_selectRoom"),this.roomNum="",this.roomId="",this.context.navigateTo({url:"/pages/selectUnit/selectUnit?floorId="+this.floorId})):uni.showToast({title:this.$t("please_select_building_first")})},chooseRoom:function(t){null!=this.unitId&&""!=this.unitId?(uni.removeStorageSync("_selectRoom"),this.roomNum="",this.roomId="",this.context.navigateTo({url:"/pages/selectRoom/selectRoom?floorId="+this.floorId+"&unitId="+this.unitId})):uni.showToast({title:this.$t("please_select_unit_first")})},_loadRoomInfo:function(){var t=this,e={page:1,row:1,communityId:(0,s.getCurrentCommunity)().communityId,roomId:this.roomId};(0,i.loadRoomAndOwner)(this,e).then((function(e){if(200==e.statusCode){var o=e.data.rooms;t.roomInfo=o[0]}}))},_loadFees:function(){var t=this,e={page:1,row:100,communityId:(0,s.getCurrentCommunity)().communityId,payerObjId:this.roomId};(0,n.loadFees)(this,e).then((function(e){if(200==e.statusCode){var o=e.data.fees;t.fees=o,t.fees.forEach((function(t){var e=t.endTime,o=new Date(e.replace(/-/g,"/"));t.newEndTime=o.getMonth()+1+"/"+o.getDate()}))}}))},_toFeeDetail:function(t){this.context.navigateTo({url:"/pages/feeDetail/feeDetail?feeId="+t.feeId})}}};e.default=u},"9cbe":function(t,e,o){var i=o("c86c");e=i(!1),e.push([t.i,".block__title[data-v-b4137926]{margin:0;font-weight:400;font-size:14px;color:rgba(69,90,100,.6);padding:%?40?% %?30?% %?20?%}.button_up_blank[data-v-b4137926]{height:%?40?%}.cu-list.menu-avatar > .cu-item .content-left[data-v-b4137926]{left:%?30?%}.cu-list + .cu-list[data-v-b4137926]{margin-top:%?20?%}",""]),t.exports=e},aff4:function(t,e,o){var i=o("9cbe");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("967d").default;n("254ef0c1",i,!0,{sourceMap:!1,shadowMode:!1})},c77e:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("v-uni-view",{staticClass:"block__title"},[t._v(t._s(t.$t("query_conditions")))]),o("v-uni-view",{staticClass:"cu-form-group arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseFloor.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("building")))]),o("v-uni-input",{attrs:{required:!0,readonly:!0,label:"楼栋",placeholder:t.getBuilding,name:"floorNum",icon:"arrow"},model:{value:t.floorNum,callback:function(e){t.floorNum=e},expression:"floorNum"}}),o("v-uni-text",{staticClass:"cuIcon-right"})],1),o("v-uni-view",{staticClass:"cu-form-group arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseUnit.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("unit")))]),o("v-uni-input",{attrs:{placeholder:t.getUnit},model:{value:t.unitNum,callback:function(e){t.unitNum=e},expression:"unitNum"}}),o("v-uni-text",{staticClass:"cuIcon-right"})],1),o("v-uni-view",{staticClass:"cu-form-group arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseRoom.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("house")))]),o("v-uni-input",{attrs:{placeholder:t.getHouse},model:{value:t.roomNum,callback:function(e){t.roomNum=e},expression:"roomNum"}}),o("v-uni-text",{staticClass:"cuIcon-right"})],1),""!=t.roomId?o("v-uni-view",[o("v-uni-view",{staticClass:"block__title"},[t._v(t._s(t.$t("house_information")))]),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("house_number")))]),t._v(t._s(t.roomInfo.floorNum)+t._s(t.$t("building_block"))+t._s(t.roomInfo.unitNum)+t._s(t.$t("unit"))+t._s(t.roomInfo.roomNum)+t._s(t.$t("room")))],1),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("floor")))]),t._v(t._s(t.roomInfo.layer+t.$t("level")))],1),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("number_of_rooms")))]),t._v(t._s(t.roomInfo.section)+t._s(t.$t("unit_count")))],1),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("house_type")))]),t._v(t._s(t.roomInfo.apartmentName))],1),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("building_area")))]),t._v(t._s(t.roomInfo.builtUpArea+"尺"))],1),o("v-uni-view",{staticClass:"block__title"},[t._v(t._s(t.$t("owner_information")))]),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("name")))]),t._v(t._s(t.roomInfo.ownerName))],1),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("id_card")))]),t._v(t._s(t.roomInfo.idCard))],1),o("v-uni-view",{staticClass:"cu-form-group"},[o("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("contact_information")))]),t._v(t._s(t.roomInfo.link))],1),o("v-uni-view",{staticClass:"block__title"},[t._v(t._s(t.$t("cost_information")))]),o("v-uni-view",{staticClass:"cu-list menu-avatar "},t._l(t.fees,(function(e,i){return o("v-uni-view",{key:i,staticClass:"cu-item arrow",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t._toFeeDetail(e)}}},[o("v-uni-view",{staticClass:"content content-left"},[o("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.feeName))]),o("v-uni-view",{staticClass:"text-gray text-sm flex"},[o("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(t.$t("cost_status"))+"："+t._s(e.stateName))])],1)],1),o("v-uni-view",{staticClass:"action"},[o("v-uni-view",{staticClass:"text-grey text-xs"},[t._v(t._s(e.newEndTime)),o("v-uni-text",{staticClass:"lg text-gray cuIcon-right margin-left-xs"})],1)],1)],1)})),1)],1):t._e()],1)},n=[]},dd4b:function(t,e,o){"use strict";o("6a54");var i=o("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.loadRoomAndOwner=function(t,e){return new Promise((function(o,i){t.context.get({url:n.default.listRoomAndOwner,data:e,success:function(t){o(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.loadRooms=function(t,e){return new Promise((function(o,i){t.context.get({url:n.default.queryRooms,data:e,success:function(t){o(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},o("bf0f");var n=i(o("f3d1"))}}]);