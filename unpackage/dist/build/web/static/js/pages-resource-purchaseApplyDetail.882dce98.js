(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-resource-purchaseApplyDetail"],{"1ad7f":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".row[data-v-494be534]{width:95%;margin:0 auto;height:%?60?%;line-height:%?60?%;display:flex;flex-direction:row;justify-content:space-between}.item-t[data-v-494be534]{width:20%;overflow:hidden;display:inline-block;text-align:center;line-height:%?30?%}",""]),t.exports=e},"50a2":function(t,e,n){"use strict";var i=n("9394"),s=n.n(i);s.a},"6e56":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"cu-list menu margin-top"},[n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-edit text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("申请ID")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.applyOrderId))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-ticket text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("申请人")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.userName))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-time text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("使用人")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.endUserName))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-phone text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("联系方式")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.endUserTel))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-profile text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("申请时间")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.createTime))])],1)],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1e4==t.applyInfo.resOrderType&&1e4!=t.applyInfo.warehousingWay,expression:"applyInfo.resOrderType==10000 && applyInfo.warehousingWay!=10000"}],staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-profile text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("参考总价格")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.totalPrice))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-profile text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("审批状态")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.stateName))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-profile text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(1e4==t.applyInfo.resOrderType?"入库方式":"出库方式"))])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(1e4==t.applyInfo.resOrderType?1e4==t.applyInfo.warehousingWay?"直接入库":"采购入库":1e4==t.applyInfo.warehousingWay?"直接出库":"审核出库"))])],1)],1),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1e4==t.applyInfo.resOrderType,expression:"applyInfo.resOrderType==10000"}],staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-profile text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("采购总价格")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.purchaseTotalPrice>0?"￥"+t.applyInfo.purchaseTotalPrice:"-"))])],1)],1),n("v-uni-view",{staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"cuIcon-profile text-green"}),n("v-uni-text",{staticClass:"text-grey"},[t._v("说明")])],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.applyInfo.description))])],1)],1)],1),n("v-uni-view",{staticClass:"margin-top"},[n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"item-t text-bold"},[t._v("商品")]),n("v-uni-view",{staticClass:"item-t text-bold"},[t._v("参考价格")]),n("v-uni-view",{staticClass:"item-t text-bold"},[t._v("申请数量")]),1e4==t.applyInfo.resOrderType?n("v-uni-view",{staticClass:"item-t text-bold"},[t._v("采购价格")]):t._e(),n("v-uni-view",{staticClass:"item-t text-bold"},[t._v(t._s(1e4==t.applyInfo.resOrderType?"采购数量":"领用数量"))])],1),t._l(t.applyInfo.purchaseApplyDetailVo,(function(e,i){return n("v-uni-view",{staticClass:"resource-item text-grey"},[n("v-uni-view",{staticClass:"row"},[n("v-uni-view",{staticClass:"item-t"},[t._v(t._s(e.resName))]),n("v-uni-view",{staticClass:"item-t"},[t._v(t._s(e.price)+"MOP/"+t._s(e.unitCodeName))]),n("v-uni-view",{staticClass:"item-t"},[t._v(t._s(e.quantity)+t._s(e.unitCodeName))]),1e4==t.applyInfo.resOrderType?n("v-uni-view",{staticClass:"item-t"},[t._v(t._s(e.purchasePrice?e.purchasePrice:"-"))]):t._e(),n("v-uni-view",{staticClass:"item-t"},[t._v(t._s(e.purchaseQuantity?e.purchaseQuantity+e.unitCodeName:"-"))])],1)],1)}))],2),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1e4!=t.applyInfo.warehousingWay,expression:"applyInfo.warehousingWay != 10000"}],staticClass:"cu-timeline margin-top"},[n("v-uni-view",{staticClass:"cu-time"},[t._v("工单")]),t._l(t.staffs,(function(e,i){return n("v-uni-view",{key:i,staticClass:"cu-item "},[n("v-uni-view",{staticClass:"bg-cyan content"},[n("v-uni-text",[t._v(t._s(e.auditTime||""))]),t._v("到达 "+t._s(e.userName||e.auditName)+" 工位")],1),void 0!=e.endTime?n("v-uni-view",{staticClass:"bg-cyan content"},[n("v-uni-text",[t._v(t._s(e.endTime))]),t._v("处理完成")],1):t._e(),void 0!=e.endTime?n("v-uni-view",{staticClass:"bg-cyan content"},[n("v-uni-text",[t._v("处理意见：")]),t._v(t._s(e.context))],1):t._e()],1)}))],2)],1)},s=[]},"91e9":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.allocationStoreEnter=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.allocationStoreEnter,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.deleteAllocationStorehouse=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.deleteAllocationStorehouse,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.deletePurchaseApply=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.deletePurchaseApply,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getAllocationHisAudit=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listAllocationStoreHisAuditOrders,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listAllocationStorehouseApplys=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listAllocationStorehouseApplys,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listAllocationStorehouses=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listAllocationStorehouses,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listAuditHistoryOrders=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listAuditHistoryOrders,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listItemOutAuditHistoryOrders=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listItemOutAuditHistoryOrders,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listMyAllocationStoreAuditOrders=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listMyAllocationStoreAuditOrders,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listMyAuditOrders=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listMyAuditOrders,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listMyItemOutOrders=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listMyItemOutOrders,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listResourceStoreTypes=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listResourceStoreTypes,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listStoreHouses=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listStoreHouses,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listWorkflowAuditInfo=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listWorkflowAuditInfo,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.listWorkflowStepStaffs=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listWorkflowStepStaffs,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryFirstAuditStaff=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.queryFirstAuditStaff,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryFirstStaff=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.queryFirstStaff,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryMyResourceStoreInfo=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.queryResourceStoreResName,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryPurchaseApplyList=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.queryPurchaseApplyList,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryResourceStoreAndTimes=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.listResourceStoresAndTimes,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryResourceStoreList=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.queryResourceStoreList,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryResourceSupplier=function(t,e){return new Promise((function(n,i){t.context.get({url:s.default.queryResourceSupplier,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveAllocationStorehouse=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveAllocationStorehouse,data:e,success:function(e){t.onoff=!0,n(e.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveAuditAllocationStoreOrder=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveAuditAllocationStoreOrder,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveItemOutApply=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveItemOutApply,data:e,success:function(t){n(t.data)},fail:function(e){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3}),t.onoff=!0}})}))},e.saveMyAuditOrders=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveMyAuditOrders,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.savePurchaseApply=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.savePurchaseApply,data:e,success:function(t){n(t.data)},fail:function(e){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3}),t.onoff=!0}})}))},e.saveResourceEnter=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveResourceEnter,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveResourceOut=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveResourceOut,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveResourceStoreTransfer=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveResourceStoreTransfer,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveUrgentPurchaseApply=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.saveUrgentPurchaseApply,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.updatePurchaseApply=function(t,e){return new Promise((function(n,i){t.context.post({url:s.default.updatePurchaseApply,data:e,success:function(t){n(t.data)},fail:function(e){t.onoff=!0,wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},n("bf0f");var s=i(n("f3d1"))},9394:function(t,e,n){var i=n("1ad7f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=n("967d").default;s("6e6fd72e",i,!0,{sourceMap:!1,shadowMode:!1})},9854:function(t,e,n){"use strict";n.r(e);var i=n("6e56"),s=n("a8d9");for(var o in s)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("50a2");var a=n("828b"),r=Object(a["a"])(s["default"],i["b"],i["c"],!1,null,"494be534",null,!1,i["a"],void 0);e["default"]=r.exports},a8d9:function(t,e,n){"use strict";n.r(e);var i=n("f4b56"),s=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},f4b56:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("91e9"),s=n("dae2"),o={data:function(){return{communityId:"",applyInfo:[],staffs:[]}},components:{},onLoad:function(t){this.java110Context.onLoad();var e=JSON.parse(t.apply);this.communityId=(0,s.getCurrentCommunity)().communityId,this._loadAuditInfo(e.resOrderType,e.applyOrderId)},onShow:function(){},methods:{_loadAuditInfo:function(t,e){var n=this,s={page:1,row:10,communityId:this.communityId,resOrderType:t,applyOrderId:e};(0,i.queryPurchaseApplyList)(this,s).then((function(t){n.applyInfo=t.purchaseApplys[0],1e4!=n.applyInfo.warehousingWay&&n._loadAuditUser()}))},_loadAuditUser:function(){var t=this,e={businessKey:this.applyInfo.applyOrderId,communityId:this.communityId};(0,i.listWorkflowAuditInfo)(this,e).then((function(e){t.staffs=e.data}))}}};e.default=o}}]);