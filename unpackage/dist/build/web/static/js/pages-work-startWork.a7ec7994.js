(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-work-startWork"],{"0936":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={noDataPage:i("31c4").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"q-query flex justify-start flex-wrap margin-top-sm"},[i("v-uni-view",{staticClass:"q-item"},[i("v-uni-input",{staticClass:"q-input",attrs:{type:"text",placeholder:t.$t("title")},model:{value:t.workNameLike,callback:function(e){t.workNameLike=e},expression:"workNameLike"}})],1),i("v-uni-view",{staticClass:"q-item"},[i("v-uni-input",{staticClass:"q-input",attrs:{type:"text",placeholder:t.$t("processor")},model:{value:t.staffNameLike,callback:function(e){t.staffNameLike=e},expression:"staffNameLike"}})],1),i("v-uni-view",{staticClass:"q-item-btn"},[i("v-uni-button",{staticClass:"cu-btn  line-blue round q-input",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._loadStartWork.apply(void 0,arguments)}}},[t._v(t._s(t.$t("search")))])],1)],1),t.works.length>0?i("v-uni-view",{staticClass:"margin-top"},t._l(t.works,(function(e,a){return i("v-uni-view",{key:a,staticClass:"bg-white margin-bottom padding-sm margin-sm radius-sm"},[i("v-uni-view",{staticClass:"apply-title flex justify-between"},[i("v-uni-view",[i("v-uni-text",{staticClass:"text-bold"},[t._v(t._s(e.workId)+"("+t._s(e.stateName)+")")])],1),i("v-uni-view",{staticClass:"flex justify-start"},[i("v-uni-button",{staticClass:"cu-btn round sm line-black margin-left-sm",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t._toWorkDetail(e)}}},[t._v(t._s(t.$t("btn_details")))])],1)],1),i("v-uni-view",{staticClass:"apply-content flex justify-start flex-wrap"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-text",[t._v(t._s(t.$t("title"))+":")]),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(e.workName))])],1),i("v-uni-view",{staticClass:"item-half"},[i("v-uni-text",[t._v(t._s(t.$t("identifier"))+":")]),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s("1001"==e.workCycle?t.$t("one_time_work_order"):t.$t("periodic_work_order")))])],1),i("v-uni-view",{staticClass:"item-half"},[i("v-uni-text",[t._v(t._s(t.$t("processor"))+":")]),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(e.curStaffName||"-"))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",[t._v(t._s(t.$t("creation_time"))+":")]),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(e.createTime))])],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-text",[t._v(t._s(t.$t("validity_period"))+":")]),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(e.startTime)+"~"+t._s(e.endTime))])],1)],1)],1)})),1):i("v-uni-view",[i("no-data-page")],1)],1)},s=[]},"2ee7":function(t,e,i){"use strict";var a=i("9251"),n=i.n(a);n.a},"31c4":function(t,e,i){"use strict";i.r(e);var a=i("fb40"),n=i("d0ee");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("50d9");var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"1debd5f0",null,!1,a["a"],void 0);e["default"]=c.exports},"3ae7":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".select-resource[data-v-2a0c341d]{position:fixed;top:%?100?%;left:0;background-color:#fff;width:100%;height:100%;overflow-y:scroll;z-index:1;padding-bottom:%?100?%}.btn-box[data-v-2a0c341d]{padding:%?40?% 0;display:flex;flex-direction:row}.btn-box uni-button[data-v-2a0c341d]{width:40%}.cu-list.menu-avatar>.cu-item .content[data-v-2a0c341d]{left:%?40?%;width:80%}.cu-list[data-v-2a0c341d]{margin:0}",""]),t.exports=e},"49db":function(t,e,i){"use strict";i.r(e);var a=i("6a73"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"4ccb":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("31c4")),s=i("a156"),o={name:"myWork",data:function(){return{workNameLike:"",staffNameLike:"",works:[]}},computed:{},created:function(){this._loadStartWork()},components:{noDataPage:n.default},methods:{_loadStartWork:function(){var t=this;(0,s.queryStartWork)(this,{page:1,row:100,workNameLike:this.workNameLike,staffNameLike:this.staffNameLike},0==this.works.length).then((function(e){t.works=e.data}))},_toWorkDetail:function(t){uni.navigateTo({url:"/pages/work/workTask?workId="+t.workId})}}};e.default=o},"4e73":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"NoDataPage",data:function(){return{}},methods:{}}},"50d9":function(t,e,i){"use strict";var a=i("8c52"),n=i.n(a);n.a},"67c7":function(t,e,i){"use strict";i.r(e);var a=i("0936"),n=i("830e");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("2ee7");var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"76fab360",null,!1,a["a"],void 0);e["default"]=c.exports},"6a73":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("67c7")),s=a(i("bf54")),o={data:function(){return{active:0}},components:{myWork:n.default,addWork:s.default},onLoad:function(){},onShow:function(){},methods:{tabSelect:function(t){this.active=t;var e=this;0!=this.active?1==this.active&&setTimeout((function(){e.$refs.addWorkRef._initAddWork()}),500):setTimeout((function(){e.$refs.myWorkRef._loadStartWork()}),500)}}};e.default=o},"7a82":function(t,e,i){"use strict";i.r(e);var a=i("e336"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"7c07":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.q-query[data-v-76fab360]{background-color:#fff;padding:%?15?%}.q-query .q-item[data-v-76fab360]{width:30%;margin-right:%?15?%;padding:%?10?% %?15?%;border-radius:%?15?%;background-color:#f1f1f1}.q-query .q-item .q-input[data-v-76fab360]{height:%?40?%}.q-query .q-item-btn[data-v-76fab360]{width:30%;margin-left:%?15?%}.q-query .q-item-btn .q-input[data-v-76fab360]{height:%?60?%}.apply-title[data-v-76fab360]{height:%?60?%;line-height:%?50?%;border-bottom:%?1?% solid #f1f1f1}.apply-content .item-half[data-v-76fab360]{width:50%;margin-top:%?20?%}.apply-content .item[data-v-76fab360]{width:100%;margin-top:%?20?%}.radius-sm[data-v-76fab360]{border-radius:%?16?%}',""]),t.exports=e},8184:function(t,e,i){"use strict";i.r(e);var a=i("c07ce"),n=i("49db");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"2fe0a6ba",null,!1,a["a"],void 0);e["default"]=c.exports},"830e":function(t,e,i){"use strict";i.r(e);var a=i("4ccb"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"8c52":function(t,e,i){var a=i("f0e3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("d1c1e302",a,!0,{sourceMap:!1,shadowMode:!1})},9251:function(t,e,i){var a=i("7c07");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("09e65405",a,!0,{sourceMap:!1,shadowMode:!1})},"925e":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={lFile:i("3f44").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("l-file",{ref:"lFile",on:{"up-success":function(e){arguments[0]=e=t.$handleEvent(e),t.onSuccess.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("titles")))]),i("v-uni-input",{staticClass:"text-right",attrs:{placeholder:t.$t("mandatory_enter_title")},model:{value:t.workName,callback:function(e){t.workName=e},expression:"workName"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("work_order_type")))]),i("v-uni-picker",{attrs:{value:t.workTypeIndex,range:t.workTypes,"range-key":"typeName"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.workTypeChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(-1==t.workTypeIndex?t.$t("please_select"):t.workTypes[t.workTypeIndex].typeName))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("processor")))]),t.staffs&&t.staffs.length>0?i("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectStaffs.apply(void 0,arguments)}}},t._l(t.staffs,(function(e,a){return i("v-uni-text",{key:a},[t._v(t._s(e.staffName))])})),1):i("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectStaffs.apply(void 0,arguments)}}},[i("v-uni-text",[t._v(t._s(t.$t("please_select")))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("cc_person")))]),t.copyStaffs&&t.copyStaffs.length>0?i("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCopyStaffs.apply(void 0,arguments)}}},t._l(t.copyStaffs,(function(e,a){return i("v-uni-text",{key:a},[t._v(t._s(e.staffName))])})),1):i("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCopyStaffs.apply(void 0,arguments)}}},[i("v-uni-text",[t._v(t._s(t.$t("please_select")))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group arrow  margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("completion_date")))]),i("v-uni-picker",{attrs:{mode:"date",value:t.endTime,start:"2020-09-01",end:"2050-09-01"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.dateChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.endTime||t.$t("please_select")))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("work_order_identifier")))]),i("v-uni-picker",{attrs:{value:t.workCycleIndex,range:t.workCycles,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.workCycleChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.workCycles[t.workCycleIndex].name))])],1)],1),"2002"==t.workCycle?i("v-uni-view",{staticClass:"cu-form-group "},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("completion_hours")))]),i("v-uni-input",{staticClass:"text-right",model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}}),t._v(t._s(t.$t("completed_within_hours")))],1):t._e(),"2002"==t.workCycle?i("v-uni-view",{staticClass:"cu-form-group "},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("cycle")))]),i("v-uni-picker",{attrs:{value:t.periodIndex,range:t.periods,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.periodChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.periods[t.periodIndex].name))])],1)],1):t._e(),"2002"==t.workCycle&&"2020022"==t.period?i("v-uni-view",{staticClass:"bg-white padding-lr"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("month")))]),i("v-uni-checkbox-group",{staticClass:"flex justify-start flex-wrap",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t._changeMonths.apply(void 0,arguments)}}},t._l(12,(function(e){return i("v-uni-view",{staticClass:"margin-xs"},[i("v-uni-checkbox",{attrs:{value:e+""}}),t._v(t._s(e))],1)})),1)],1):t._e(),"2002"==t.workCycle&&"2020022"==t.period?i("v-uni-view",{staticClass:"bg-white padding-lr"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("day")))]),i("v-uni-checkbox-group",{staticClass:"flex justify-start flex-wrap ",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t._changeDays.apply(void 0,arguments)}}},t._l(31,(function(e){return i("v-uni-view",{staticClass:"margin-xs"},[i("v-uni-checkbox",{attrs:{value:e+""}}),t._v(t._s(e))],1)})),1)],1):t._e(),"2002"==t.workCycle&&"2020023"==t.period?i("v-uni-view",{staticClass:"bg-white padding-lr"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("week")))]),i("v-uni-checkbox-group",{staticClass:"flex justify-start flex-wrap ",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t._changeWorkDays.apply(void 0,arguments)}}},t._l(7,(function(e){return i("v-uni-view",{staticClass:"margin-xs"},[i("v-uni-checkbox",{attrs:{value:e+""}}),t._v(t._s(t.$t("week"))+t._s(7==e?"日":e))],1)})),1)],1):t._e(),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-textarea",{attrs:{placeholder:t.$t("mandatory_enter_content")},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),i("v-uni-view",{staticClass:"margin-top"},[i("upload-demo",{ref:"vcUploadFileRel",attrs:{type:t.filetype},on:{uploadFile:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadFile.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"flex flex-direction margin-top-lg"},[i("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitWorkOrder.apply(void 0,arguments)}}},[t._v(t._s(t.$t("submit")))])],1),i("select-muti-staffs",{ref:"selectMutiStaffsRel",on:{getStaffs:function(e){arguments[0]=e=t.$handleEvent(e),t.getStaffs.apply(void 0,arguments)}}})],1)},s=[]},9390:function(t,e,i){"use strict";i.r(e);var a=i("b900"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},a688:function(t,e,i){"use strict";var a=i("a869"),n=i.n(a);n.a},a869:function(t,e,i){var a=i("3ae7");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("10764321",a,!0,{sourceMap:!1,shadowMode:!1})},b900:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("bf0f"),i("2797"),i("c223"),i("4626"),i("5ac7"),i("aa9c");var a=i("e476"),n=i("2d9e"),s={name:"selectMutiStaffs",data:function(){return{showModel:!1,staffs:[],page:1,selectStaffIds:[]}},mounted:function(){this._loadStaffList()},methods:{switchShow:function(t){this.showModel=!this.showModel,console.log("_staffs",t),this.checkboxChange({detail:{value:t}})},_loadStaffList:function(){var t=this,e={page:1,row:50,communityId:(0,n.getCommunityId)()};(0,a.queryStaffListInfo)(this,e,0==this.staffs.length).then((function(e){var i=e.data.staffs;i.forEach((function(t){t.staffId=t.userId,t.staffName=t.name})),t.staffs=t.staffs.concat(i)}))},checkboxChange:function(t){var e=t.detail.value;this.selectStaffIds=e,this.staffs.forEach((function(t,i){e.includes(t.staffId)?t.checked=!0:t.checked=!1}))},saveSelected:function(){var t=this.selectStaffIds,e=this.staffs;if(t.length<1)uni.showToast({title:"请选择员工",icon:"none"});else{for(var i=[],a=0;a<t.length;a++)for(var n=0;n<e.length;n++)t[a]==e[n].staffId&&i.push(e[n]);this.$emit("getStaffs",i),this.showModel=!1}},cancel:function(){this.showModel=!1}}};e.default=s},bd96:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"cu-modal bottom-modal",class:t.showModel?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white "},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-title text-orange "}),t._v(t._s(t.$t("choose_staff")))],1),i("v-uni-view",{staticClass:"action"})],1),i("v-uni-scroll-view",{staticClass:"bg-white",staticStyle:{height:"700upx"},attrs:{"scroll-y":!0}},[i("v-uni-checkbox-group",{staticClass:" padding-lr margin-tb-sm",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},t._l(t.staffs,(function(e,a){return i("v-uni-view",{key:a,staticClass:"flex justify-between "},[i("v-uni-view",{},[t._v(t._s(e.name)+"("+t._s(e.orgName)+")")]),i("v-uni-view",[i("v-uni-checkbox",{attrs:{value:e.staffId,checked:e.checked}})],1)],1)})),1),i("v-uni-view",{staticClass:"btn-box"},[i("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel()}}},[t._v("取消")]),i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveSelected()}}},[t._v("保存")])],1)],1)],1)],1)},n=[]},bf54:function(t,e,i){"use strict";i.r(e);var a=i("925e"),n=i("7a82");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"7d70ae9f",null,!1,a["a"],void 0);e["default"]=c.exports},c07ce:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-scroll-view",{staticClass:"bg-white nav",attrs:{"scroll-x":!0}},[i("v-uni-view",{staticClass:"flex text-center"},[i("v-uni-view",{staticClass:"cu-item flex-sub",class:0==t.active?"text-blue cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect(0)}}},[t._v("全部")]),i("v-uni-view",{staticClass:"cu-item flex-sub",class:1==t.active?"text-blue cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect(1)}}},[t._v(t._s(t.$t("create_work_order")))])],1)],1),0==t.active?i("v-uni-view",[i("my-work",{ref:"myWorkRef"})],1):t._e(),1==t.active?i("v-uni-view",[i("add-work",{ref:"addWorkRef",on:{tabSelect:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect.apply(void 0,arguments)}}})],1):t._e()],1)},n=[]},d0ee:function(t,e,i){"use strict";i.r(e);var a=i("4e73"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},e336:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("9b1b"));i("bf0f"),i("2797"),i("aa9c"),i("d4b5");var s=a(i("f35b")),o=a(i("d9aa")),c=i("a156"),r=i("2d9e"),u=i("062c"),l=a(i("d832")),f=i("0d75"),d={name:"addWork",data:function(){var t=this,e=function(e){return t.$t(e)};return{workName:"",workTypes:[],workTypeIndex:-1,wtId:"",workCycles:[{name:e("one_time_work_order"),value:"1001"},{name:e("periodic_work_order"),value:"2002"}],workCycleIndex:0,workCycle:"1001",startTime:"",endTime:"",staffs:[],copyStaffs:[],pathUrl:"",content:"",period:"2020022",periodIndex:0,periods:[{name:"月/天",value:"2020022"},{name:"按周",value:"2020023"}],months:[],days:[],workdays:[],hours:"24",communityId:"",staffFlag:"",filetype:"image"}},computed:{},components:{selectMutiStaffs:s.default,vcUploadFile:l.default,UploadDemo:o.default},mounted:function(){this._loadWorkTypes(),this.filetype="ios"==uni.getSystemInfoSync().platform?"image":"file"},methods:{workTypeChange:function(t){this.workTypeIndex=t.detail.value,this.wtId=this.workTypes[this.workTypeIndex].wtId},workCycleChange:function(t){this.workCycleIndex=t.detail.value,this.workCycle=this.workCycles[this.workCycleIndex].value},dateChange:function(t){this.endTime=t.detail.value},periodChange:function(t){this.periodIndex=t.detail.value,this.period=this.periods[this.periodIndex].value},_changeMonths:function(t){this.months=t.detail.value},_changeDays:function(t){this.days=t.detail.value},_changeWorkDays:function(t){this.workdays=t.detail.value},submitWorkOrder:function(){var t=this,e=this;(0,c.saveWorkPool)(this,{workName:this.workName,wtId:this.wtId,workCycle:this.workCycle,startTime:(0,u.formatTime)(new Date),endTime:this.endTime,staffs:this.staffs,copyStaffs:this.copyStaffs,pathUrl:this.pathUrl,content:this.content,period:this.period,months:this.months,days:this.days,workdays:this.workdays,hours:this.hours,communityId:(0,r.getCommunityId)()},!0).then((function(i){t._initAddWork(),e.$emit("tabSelect",0)}))},selectStaffs:function(){var t=[];this.staffs.forEach((function(e){t.push(e.staffId)})),this.staffFlag="staff",this.$refs.selectMutiStaffsRel.switchShow(t)},selectCopyStaffs:function(){var t=[];this.copyStaffs.forEach((function(e){t.push(e.staffId)})),this.staffFlag="copyStaff",this.$refs.selectMutiStaffsRel.switchShow(t)},getStaffs:function(t){"staff"!=this.staffFlag?this.copyStaffs=t:this.staffs=t},uploadFile:function(t){console.log(t),this.pathUrl=t.realFileName},_loadWorkTypes:function(){var t=this;(0,c.queryWorkType)(this,{page:1,row:100},0==this.workTypes.length).then((function(e){t.workTypes=e.data}))},_initAddWork:function(){this.workName="",this.wtId="",this.workCycle="1001",this.startTime="",this.endTime="",this.staffs=[],this.copyStaffs=[],this.pathUrl="",this.content="",this.period="2020022",this.months=[],this.days=[],this.workdays=[],this.hours="24",this.staffFlag=""},onUpload:function(){console.log((0,f.getHeaders)()),this.$refs.lFile.upload({url:"https://192.168.8.213:8008/callComponent/upload/uploadVedio/upload",name:"uploadFile",header:(0,n.default)({},(0,f.getHeaders)())})},onSuccess:function(t){console.log("上传成功回调",JSON.stringify(t)),uni.showToast({title:JSON.stringify(t),icon:"none"})}}};e.default=d},f0e3:function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".no-data-icon[data-v-1debd5f0]{font-size:%?200?%}.margin-top-100[data-v-1debd5f0]{margin-top:%?200?%}",""]),t.exports=e},f35b:function(t,e,i){"use strict";i.r(e);var a=i("bd96"),n=i("9390");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("a688");var o=i("828b"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"2a0c341d",null,!1,a["a"],void 0);e["default"]=c.exports},fb40:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",[e("v-uni-view",{staticClass:" text-center margin-top-100"},[e("v-uni-view",{},[e("v-uni-text",{staticClass:" cuIcon-warnfill light text-orange no-data-icon"})],1),e("v-uni-view",{},[e("v-uni-text",{staticClass:"text-gray"},[this._v(this._s(this.$t("no_data")))])],1)],1)],1)},n=[]}}]);