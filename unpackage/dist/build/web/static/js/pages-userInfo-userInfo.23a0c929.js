(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userInfo-userInfo"],{"10c4":function(t,e,s){"use strict";function a(t,e){var s=new Image;s.src=t,s.onload=function(){var t=this.height,s=this.width,a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createAttribute("width");i.nodeValue=s;var u=document.createAttribute("height");u.nodeValue=t,a.setAttributeNode(i),a.setAttributeNode(u),n.drawImage(this,0,0,s,t);var o=a.toDataURL("image/jpeg",.3);a=null,e(o)}}s("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToBlob=function(t){var e=t.split(","),s=e[0].match(/:(.*?);/)[1],a=atob(e[1]),n=a.length,i=new Uint8Array(n);while(n--)i[n]=a.charCodeAt(n);return new Blob([i],{type:s})},e.translate=function(t,e){a(t,e)},e.translateH5=a,s("5c47"),s("2c10"),s("c9b5"),s("15d1"),s("d5c6"),s("5a56"),s("f074"),s("4db2"),s("bf0f"),s("c976"),s("4d8f"),s("7b97"),s("668a"),s("c5b7"),s("8ff5"),s("2378"),s("641a"),s("64e0"),s("cce3"),s("efba"),s("d009"),s("bd7d"),s("7edd"),s("d798"),s("f547"),s("5e54"),s("b60a"),s("8c18"),s("12973"),s("f991"),s("198e"),s("8557"),s("63b1"),s("1954"),s("1cf1")},"1e8c":function(t,e,s){"use strict";s.r(e);var a=s("448c"),n=s.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){s.d(e,t,(function(){return a[t]}))}(i);e["default"]=n.a},"3d65":function(t,e,s){"use strict";s.r(e);var a=s("3e4a"),n=s("1e8c");for(var i in n)["default"].indexOf(i)<0&&function(t){s.d(e,t,(function(){return n[t]}))}(i);var u=s("828b"),o=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,"5a61c566",null,!1,a["a"],void 0);e["default"]=o.exports},"3e4a":function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-uni-view",[s("v-uni-view",[s("v-uni-view",{staticClass:"padding"},[t._v(t._s(t.$t("merchant_information")))]),s("v-uni-view",{staticClass:"cu-list menu "},[s("v-uni-view",{staticClass:"cu-item"},[s("v-uni-view",{staticClass:"content"},[s("v-uni-text",{staticClass:"lg cuIcon-service text-blue margin-right-xs"}),s("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.$t("name_of_merchant")))])],1),s("v-uni-view",{staticClass:"action"},[s("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.storeName))])],1)],1),s("v-uni-view",{staticClass:"cu-item"},[s("v-uni-view",{staticClass:"content"},[s("v-uni-text",{staticClass:"lg cuIcon-new text-blue margin-right-xs"}),s("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.$t("name_of_type")))])],1),s("v-uni-view",{staticClass:"action"},[s("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.$t("property")))])],1)],1),s("v-uni-view",{staticClass:"cu-item"},[s("v-uni-view",{staticClass:"content"},[s("v-uni-text",{staticClass:"lg cuIcon-cascades text-blue margin-right-xs"}),s("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.$t("merchant_code")))])],1),s("v-uni-view",{staticClass:"action"},[s("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.storeId))])],1)],1)],1),s("v-uni-view",{staticClass:"padding"},[t._v(t._s(t.$t("employee_information")))]),s("v-uni-view",{staticClass:"cu-list menu "},[s("v-uni-view",{staticClass:"cu-item arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.settingHeadImg()}}},[s("v-uni-view",{staticClass:"content"},[s("v-uni-text",{staticClass:"lg cuIcon-emoji text-blue margin-right-xs"}),s("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.$t("员工头像")))])],1),s("v-uni-view",{staticClass:"action"},[s("v-uni-view",{staticClass:"cu-avatar round",style:{backgroundImage:"url("+t.headerImg+")"}})],1)],1),s("v-uni-view",{staticClass:"cu-item"},[s("v-uni-view",{staticClass:"content"},[s("v-uni-text",{staticClass:"lg cuIcon-profile text-blue margin-right-xs"}),s("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.$t("name_of_employee")))])],1),s("v-uni-view",{staticClass:"action"},[s("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.userName))])],1)],1),s("v-uni-view",{staticClass:"cu-item"},[s("v-uni-view",{staticClass:"content"},[s("v-uni-text",{staticClass:"lg cuIcon-cascades text-blue margin-right-xs"}),s("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(t.$t("employee_number")))])],1),s("v-uni-view",{staticClass:"action"},[s("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.userId))])],1)],1)],1)],1)],1)},n=[]},"448c":function(t,e,s){"use strict";s("6a54");var a=s("f5bd").default,n=s("3639").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(s("10c4")),u=a(s("91c2")),o=a(s("8196")),c=s("61a1"),r=(a(s("158c")),s("dae2")),l=(o.default.constant,o.default.Base64Factory,{data:function(){return{storeName:"",storeId:"",userName:"",userId:"",headerImg:u.default.imgUrl+"/h5/images/serve/head.png"}},onLoad:function(){this.java110Context.onLoad();var t=this.java110Context.getUserInfo();console.log("_userInfo",t),this.storeName=t.storeName,this.storeId=t.storeId,this.userName=t.userName,this.userId=t.userId,this.getUserInfo()},methods:{settingHeadImg:function(){var t=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){uni.showToast({title:t.$t("正在上传"),icon:"loading",mask:!0,duration:1e3});var s=e.tempFilePaths;i.translate(s,(function(e){t.headerImg=e,t._uploadOwnerHeaderImg(),uni.hideLoading()}))}})},_uploadOwnerHeaderImg:function(){var t=this,e={userId:t.java110Context.getUserInfo().userId,communityId:(0,r.getCurrentCommunity)().communityId,photo:t.headerImg};(0,c.uploadUserPhoto)(t,e).then((function(e){if(console.log(e),200==e.statusCode&&0==e.data.code)return uni.showToast({title:t.$t("头像上传成功"),icon:"success",duration:2e3}),void t.getUserInfo();uni.showToast({title:e.data.msg,icon:"none",duration:2e3})}))},getUserInfo:function(){var t=this;(0,c.getUserInfo)(this).then((function(e){console.log(e);var s=e.data.url;t.headerImg=s}))}}});e.default=l},"61a1":function(t,e,s){"use strict";s("6a54");var a=s("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getUserInfo=function(t,e){return new Promise((function(s,a){t.context.get({url:n.default.getUserInfo,data:e,success:function(t){s(t)},fail:function(t){uni.showToast({title:i.default.t("server_error"),icon:"none",duration:2e3})}})}))},e.uploadUserPhoto=function(t,e){return new Promise((function(s,a){t.context.post({url:n.default.uploadUserPhoto,data:e,success:function(t){s(t)},fail:function(t){uni.showToast({title:i.default.t("server_error"),icon:"none",duration:2e3})}})}))},s("bf0f");var n=a(s("f3d1")),i=a(s("479f"));s("39d4"),a(s("f88e"))}}]);