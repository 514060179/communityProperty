(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-work-editWrok"],{"23d0":function(t,e,n){"use strict";n.r(e);var i=n("9b99"),o=n("b15e");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"5876b766",null,!1,i["a"],void 0);e["default"]=r.exports},"26cf":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("aa9c"),n("bf0f"),n("2797");var o=i(n("c973")),a=n("3e42"),s=n("dae2"),r=n("164c"),c=i(n("23d0")),u={data:function(){var t=this,e=function(e){return t.$t(e)};return{workName:"",workTypes:[],workTypeIndex:-1,wtId:"",workCycles:[{name:e("one_time_work_order"),value:"1001"},{name:e("periodic_work_order"),value:"2002"}],workCycleIndex:0,workCycle:"1001",startTime:"",endTime:"",staffs:[],copyStaffs:[],pathUrl:"",content:"",period:"2020022",periodIndex:0,periods:[{name:"月/天",value:"2020022"},{name:"按周",value:"2020023"}],allMonths:[],allDays:[],allWorkdays:[],months:[],days:[],workdays:[],hours:"24",communityId:"",staffFlag:"",workId:""}},onLoad:function(t){this.workId=t.workId,this._loadWorkTypes(),this._loadStaffs(),this._loadStaffCopys(),this._loadWorkCycle();for(var e=1;e<13;e++)this.allMonths.push({index:e,checked:!1});for(var n=1;n<32;n++)this.allMonths.push({index:n,checked:!1});for(var i=1;i<8;i++)this.allWorkdays.push({index:i,checked:!1})},components:{selectMutiStaffs:o.default,vcUploadFile:c.default},methods:{workTypeChange:function(t){this.workTypeIndex=t.detail.value,this.wtId=this.workTypes[this.workTypeIndex].wtId},workCycleChange:function(t){this.workCycleIndex=t.detail.value,this.workCycle=this.workCycles[this.workCycleIndex].value},dateChange:function(t){this.endTime=t.detail.value},periodChange:function(t){this.periodIndex=t.detail.value,this.period=this.periods[this.periodIndex].value},_changeMonths:function(t){this.months=t.detail.value},_changeDays:function(t){this.days=t.detail.value},_changeWorkDays:function(t){this.workdays=t.detail.value},updateWorkOrder:function(){(0,a.updateWorkPool)(this,{workId:this.workId,workName:this.workName,wtId:this.wtId,workCycle:this.workCycle,startTime:(0,r.formatTime)(new Date),endTime:this.endTime,staffs:this.staffs,copyStaffs:this.copyStaffs,pathUrl:this.pathUrl,content:this.content,period:this.period,months:this.months,days:this.days,workdays:this.workdays,hours:this.hours,communityId:(0,s.getCommunityId)()}).then((function(t){uni.navigateBack()}))},selectStaffs:function(){var t=[];this.staffs.forEach((function(e){t.push(e.staffId)})),this.staffFlag="staff",this.$refs.selectMutiStaffsRel.switchShow(t)},selectCopyStaffs:function(){var t=[];this.copyStaffs.forEach((function(e){t.push(e.staffId)})),this.staffFlag="copyStaff",this.$refs.selectMutiStaffsRel.switchShow(t)},getStaffs:function(t){"staff"!=this.staffFlag?this.copyStaffs=t:this.staffs=t},uploadFile:function(t){this.pathUrl=t.realFileName},_loadWorkTypes:function(){var t=this;(0,a.queryWorkType)(this,{page:1,row:100}).then((function(e){t.workTypes=e.data,t._loadStartWork()}))},_loadStartWork:function(){var t=this;(0,a.queryStartWork)(this,{page:1,row:1,workId:this.workId}).then((function(e){var n=e.data[0];t.workName=n.workName,t.wtId=n.wtId,t.workCycle=n.workCycle,t.startTime=n.startTime,t.endTime=n.endTime,t.pathUrl=n.pathUrl,t.content=n.content,"2002"==t.workCycle&&(t.workCycleIndex=1);for(var i=0;i<t.workTypes.length;i++)t.workTypes[i].wtId==t.wtId&&(t.workTypeIndex=i);t.$refs.vcUploadFileRel._setFileName(t.pathUrl)}))},_loadStaffs:function(){var t=this;(0,a.getWorkTask)(this,{page:1,row:100,workId:this.workId}).then((function(e){t.staffs=e.data}))},_loadStaffCopys:function(){var t=this;(0,a.getWorkCopy)(this,{page:1,row:100,workId:this.workId}).then((function(e){t.copyStaffs=e.data}))},_loadWorkCycle:function(){var t=this;(0,a.getWorkCycle)(this,{page:1,row:1,workId:this.workId}).then((function(e){t.period=e.data[0].period,"2020023"==t.period&&(t.periodIndex=1),e.data[0].periodMonth&&(t.months=e.data[0].periodMonth.split(","),t.allMonths.forEach((function(e){t.months.forEach((function(t){e.index==t&&(e.checked=!0)}))}))),e.data[0].periodDay&&(t.days=e.data[0].periodDay.split(","),t.allDays.forEach((function(e){t.days.forEach((function(t){e.index==t&&(e.checked=!0)}))}))),e.data[0].periodWorkday&&(t.workdays=e.data[0].periodWorkday.split(","),t.allWorkdays.forEach((function(e){t.workdays.forEach((function(t){e.index==t&&(e.checked=!0)}))}))),t.hours=e.data[0].hours}))}}};e.default=u},"3e42":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.deleteWorkPool=function(t,e){return new Promise((function(n,i){uni.showLoading({title:"提交中..."}),t.context.post({url:o.default.deleteWorkPool,data:e,success:function(t){uni.hideLoading(),uni.showToast({icon:"none",title:t.data.msg}),0!=t.data.code||n(t.data)},fail:function(t){uni.hideLoading(),wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.finishWorkCopy=function(t,e){return new Promise((function(n,i){uni.showLoading({title:"提交中..."}),t.context.post({url:o.default.finishWorkCopy,data:e,success:function(t){uni.hideLoading(),uni.showToast({icon:"none",title:t.data.msg}),0!=t.data.code||n(t.data)},fail:function(t){uni.hideLoading(),wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.finishWorkTask=function(t,e){return new Promise((function(n,i){uni.showLoading({title:"提交中..."}),t.context.post({url:o.default.finishWorkTask,data:e,success:function(t){uni.hideLoading(),uni.showToast({icon:"none",title:t.data.msg}),0!=t.data.code||n(t.data)},fail:function(t){uni.hideLoading(),wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getCopyWork=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.queryCopyWork,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getTaskWork=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.queryTaskWork,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getWorkCopy=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkCopy,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getWorkCycle=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkCycle,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getWorkEvent=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkEvent,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getWorkPool=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkPool,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getWorkPoolFile=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkPoolFile,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.getWorkTask=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkTask,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryStartWork=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.queryStartWork,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryWorkType=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.listWorkType,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveWorkPool=function(t,e){return new Promise((function(n,i){uni.showLoading({title:"提交中..."}),t.context.post({url:o.default.saveWorkPool,data:e,success:function(t){uni.hideLoading(),uni.showToast({icon:"none",title:t.data.msg}),0!=t.data.code||n(t.data)},fail:function(t){uni.hideLoading(),wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.updateWorkPool=function(t,e){return new Promise((function(n,i){uni.showLoading({title:"提交中..."}),t.context.post({url:o.default.updateWorkPool,data:e,success:function(t){uni.hideLoading(),uni.showToast({icon:"none",title:t.data.msg}),0!=t.data.code||n(t.data)},fail:function(t){uni.hideLoading(),wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},n("bf0f");var o=i(n("f3d1"))},5667:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"cu-modal bottom-modal",class:t.showModel?"show":""},[n("v-uni-view",{staticClass:"cu-dialog"},[n("v-uni-view",{staticClass:"cu-bar bg-white "},[n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"cuIcon-title text-orange "}),t._v(t._s(t.$t("choose_staff")))],1),n("v-uni-view",{staticClass:"action"})],1),n("v-uni-scroll-view",{staticClass:"bg-white",staticStyle:{height:"700upx"},attrs:{"scroll-y":!0}},[n("v-uni-checkbox-group",{staticClass:" padding-lr margin-tb-sm",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},t._l(t.staffs,(function(e,i){return n("v-uni-view",{key:i,staticClass:"flex justify-between "},[n("v-uni-view",{},[t._v(t._s(e.name)+"("+t._s(e.orgName)+")")]),n("v-uni-view",[n("v-uni-checkbox",{attrs:{value:e.staffId,checked:e.checked}})],1)],1)})),1),n("v-uni-view",{staticClass:"btn-box"},[n("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel()}}},[t._v("取消")]),n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveSelected()}}},[t._v("保存")])],1)],1)],1)],1)},o=[]},"5c09":function(t,e,n){"use strict";n.r(e);var i=n("c446"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"6db8":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"cu-form-group margin-top"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("titles")))]),n("v-uni-input",{staticClass:"text-right",attrs:{placeholder:t.$t("title")},model:{value:t.workName,callback:function(e){t.workName=e},expression:"workName"}})],1),n("v-uni-view",{staticClass:"cu-form-group"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("work_order_type")))]),n("v-uni-picker",{attrs:{value:t.workTypeIndex,range:t.workTypes,"range-key":"typeName"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.workTypeChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"picker"},[t._v(t._s(-1==t.workTypeIndex?t.$t("please_select"):t.workTypes[t.workTypeIndex].typeName))])],1)],1),n("v-uni-view",{staticClass:"cu-form-group margin-top"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("processor")))]),t.staffs&&t.staffs.length>0?n("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectStaffs.apply(void 0,arguments)}}},t._l(t.staffs,(function(e,i){return n("v-uni-text",{key:i},[t._v(t._s(e.staffName))])})),1):n("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectStaffs.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t.$t("please_select")))])],1)],1),n("v-uni-view",{staticClass:"cu-form-group margin-top"},[n("v-uni-view",{staticClass:"title"},[t._v("抄送人")]),t.copyStaffs&&t.copyStaffs.length>0?n("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCopyStaffs.apply(void 0,arguments)}}},t._l(t.copyStaffs,(function(e,i){return n("v-uni-text",{key:i},[t._v(t._s(e.staffName))])})),1):n("v-uni-view",{staticClass:"text-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectCopyStaffs.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t.$t("please_select")))])],1)],1),n("v-uni-view",{staticClass:"cu-form-group arrow  margin-top"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("completion_date")))]),n("v-uni-picker",{attrs:{mode:"date",value:t.endTime,start:"2020-09-01",end:"2050-09-01"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.dateChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.endTime||t.$t("please_select")))])],1)],1),n("v-uni-view",{staticClass:"cu-form-group"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("work_order_identifier")))]),n("v-uni-picker",{attrs:{value:t.workCycleIndex,range:t.workCycles,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.workCycleChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.workCycles[t.workCycleIndex].name))])],1)],1),"2002"==t.workCycle?n("v-uni-view",{staticClass:"cu-form-group "},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("completion_hours")))]),n("v-uni-input",{staticClass:"text-right",model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}}),t._v(t._s(t.$t("completed_within_hours")))],1):t._e(),"2002"==t.workCycle?n("v-uni-view",{staticClass:"cu-form-group "},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("cycle")))]),n("v-uni-picker",{attrs:{value:t.periodIndex,range:t.periods,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.periodChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.periods[t.periodIndex].name))])],1)],1):t._e(),"2002"==t.workCycle&&"2020022"==t.period?n("v-uni-view",{staticClass:"bg-white padding-lr"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("month")))]),n("v-uni-checkbox-group",{staticClass:"flex justify-start flex-wrap",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t._changeMonths.apply(void 0,arguments)}}},t._l(t.allMonths,(function(e,i){return n("v-uni-view",{key:i,staticClass:"margin-xs"},[n("v-uni-checkbox",{attrs:{checked:e.checked,value:e.index+""}}),t._v(t._s(e.index))],1)})),1)],1):t._e(),"2002"==t.workCycle&&"2020022"==t.period?n("v-uni-view",{staticClass:"bg-white padding-lr"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("day")))]),n("v-uni-checkbox-group",{staticClass:"flex justify-start flex-wrap ",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t._changeDays.apply(void 0,arguments)}}},t._l(t.allDays,(function(e,i){return n("v-uni-view",{key:i,staticClass:"margin-xs"},[n("v-uni-checkbox",{attrs:{checked:e.checked,value:e.index+""}}),t._v(t._s(e.index))],1)})),1)],1):t._e(),"2002"==t.workCycle&&"2020023"==t.period?n("v-uni-view",{staticClass:"bg-white padding-lr"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("week")))]),n("v-uni-checkbox-group",{staticClass:"flex justify-start flex-wrap ",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t._changeWorkDays.apply(void 0,arguments)}}},t._l(t.allWorkdays,(function(e,i){return n("v-uni-view",{key:i,staticClass:"margin-xs"},[n("v-uni-checkbox",{attrs:{checked:e.checked,value:e.index+""}}),t._v(t._s(t.$t("week"))+t._s(7==e.index?"日":e.index))],1)})),1)],1):t._e(),n("v-uni-view",{staticClass:"cu-form-group margin-top"},[n("v-uni-textarea",{attrs:{placeholder:t.$t("mandatory_enter_content")},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("v-uni-view",{staticClass:"margin-top"},[n("upload-demo",{attrs:{type:"file"}})],1),n("v-uni-view",{staticClass:"flex flex-direction margin-top-lg"},[n("v-uni-button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateWorkOrder.apply(void 0,arguments)}}},[t._v(t._s(t.$t("submit")))])],1),n("select-muti-staffs",{ref:"selectMutiStaffsRel",on:{getStaffs:function(e){arguments[0]=e=t.$handleEvent(e),t.getStaffs.apply(void 0,arguments)}}})],1)},o=[]},"825e":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".select-resource[data-v-de4d680c]{position:fixed;top:%?100?%;left:0;background-color:#fff;width:100%;height:100%;overflow-y:scroll;z-index:1;padding-bottom:%?100?%}.btn-box[data-v-de4d680c]{padding:%?40?% 0;display:flex;flex-direction:row}.btn-box uni-button[data-v-de4d680c]{width:40%}.cu-list.menu-avatar>.cu-item .content[data-v-de4d680c]{left:%?40?%;width:80%}.cu-list[data-v-de4d680c]{margin:0}",""]),t.exports=e},"8a34":function(t,e,n){var i=n("825e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("961c8c74",i,!0,{sourceMap:!1,shadowMode:!1})},"98b8":function(t,e,n){"use strict";n.r(e);var i=n("6db8"),o=n("eec7");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"5d8be9f4",null,!1,i["a"],void 0);e["default"]=r.exports},"9b99":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:" text-left"},[n("v-uni-view",{staticClass:"button_up_blank"}),n("v-uni-view",[t._v(t._s(t.fileName))]),n("v-uni-view",{staticClass:"flex flex-direction"},[n("v-uni-button",{staticClass:"cu-btn bg-white margin-b-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t._doUploadFile()}}},[t._v("上传附件")])],1)],1)],1)},o=[]},a4e1:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.queryOrgInfo=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.queryOrgInfo,data:e,success:function(t){n(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryStaffListInfo=function(t,e){return new Promise((function(n,i){t.context.get({url:o.default.queryStaffListInfo,data:e,success:function(t){n(t)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.uploadImageAsync=function(t,e){return new Promise((function(n,i){e.context.post({url:o.default.uploadImage,data:t,success:function(t){if(200==t.statusCode){var e=t.data;n(e)}},fail:function(t){uni.hideLoading(),uni.showToast({title:i18n.t("server_error"),icon:"none"})}})}))},n("bf0f");var o=i(n("f3d1"))},b15e:function(t,e,n){"use strict";n.r(e);var i=n("b515"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},b515:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("39d4"),o={name:"vcUploadFile",data:function(){return{fileName:""}},methods:{_setFileName:function(t){this.fileName=t},_doUploadFile:function(){var t=this;uni.chooseFile({count:1,extension:[".zip",".jpg",".png",".xlsx",".doc","docx",".xls"],success:function(e){console.log(e),e.tempFiles[0].size/1024/1024>20?t.$refs.uToast.show({title:"附件大小不能超过20M",type:"warning"}):t.resultPath(e.tempFilePaths[0],e.tempFiles[0].name)}})},resultPath:function(t,e){var n=this,o=this;uni.showLoading({title:"上传中..."}),uni.uploadFile({url:"/callComponent/upload/uploadVedio/upload",filePath:t,name:"uploadFile",header:(0,i.getHeaders)(),formData:{},success:function(t){uni.hideLoading();var e=JSON.parse(t.data);o.fileName=e.fileName,o.realFileName=e.realFileName,o.$emit("uploadFile",e)},fail:function(t){n.$refs.uToast.show({title:"上传失败",type:"error"}),uni.hideLoading()}})}}};e.default=o},bfe4:function(t,e,n){"use strict";var i=n("8a34"),o=n.n(i);o.a},c446:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f"),n("2797"),n("c223"),n("4626"),n("5ac7"),n("aa9c");var i=n("a4e1"),o=n("dae2"),a={name:"selectMutiStaffs",data:function(){return{showModel:!1,staffs:[],page:1,selectStaffIds:[]}},mounted:function(){this._loadStaffList()},methods:{switchShow:function(t){this.showModel=!this.showModel,console.log("_staffs",t),this.checkboxChange({detail:{value:t}})},_loadStaffList:function(){var t=this,e={page:1,row:50,communityId:(0,o.getCommunityId)()};(0,i.queryStaffListInfo)(this,e).then((function(e){var n=e.data.staffs;n.forEach((function(t){t.staffId=t.userId,t.staffName=t.name})),t.staffs=t.staffs.concat(n)}))},checkboxChange:function(t){var e=t.detail.value;this.selectStaffIds=e,this.staffs.forEach((function(t,n){e.includes(t.staffId)?t.checked=!0:t.checked=!1}))},saveSelected:function(){var t=this.selectStaffIds,e=this.staffs;if(t.length<1)uni.showToast({title:"请选择员工",icon:"none"});else{for(var n=[],i=0;i<t.length;i++)for(var o=0;o<e.length;o++)t[i]==e[o].staffId&&n.push(e[o]);this.$emit("getStaffs",n),this.showModel=!1}},cancel:function(){this.showModel=!1}}};e.default=a},c973:function(t,e,n){"use strict";n.r(e);var i=n("5667"),o=n("5c09");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("bfe4");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"de4d680c",null,!1,i["a"],void 0);e["default"]=r.exports},eec7:function(t,e,n){"use strict";n.r(e);var i=n("26cf"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a}}]);