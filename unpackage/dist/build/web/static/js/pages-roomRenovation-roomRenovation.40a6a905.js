(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-roomRenovation-roomRenovation"],{"4eab":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uniLoadMore:n("bf7c").default,noDataPage:n("0437").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"cu-bar bg-white search "},[n("v-uni-view",{staticClass:"search-form round"},[n("v-uni-text",{staticClass:"cuIcon-search"}),n("v-uni-input",{attrs:{type:"text",placeholder:t.$t("enter_house_number"),"confirm-type":"search"},model:{value:t.roomName,callback:function(e){t.roomName=e},expression:"roomName"}})],1),n("v-uni-view",{staticClass:"search-form round"},[n("v-uni-text",{staticClass:"cuIcon-search"}),n("v-uni-picker",{attrs:{value:t.applyStatesIndex,range:t.applyStates,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.applyStatesChange.apply(void 0,arguments)}}},[n("v-uni-view",[t._v(t._s(t.applyStates[t.applyStatesIndex].name))])],1)],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn bg-gradual-green shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$preventClick(t._searchApply)}}},[t._v("搜索")])],1)],1),t.renovationRoomList.length>0?n("v-uni-view",{staticClass:"margin-top"},[t._l(t.renovationRoomList,(function(e,o){return n("v-uni-view",{key:o,staticClass:"cu-list menu-avatar ",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t._toApplyRoomDetail(e)}}},[n("v-uni-view",{staticClass:"cu-item arrow"},[n("v-uni-view",{staticClass:"item-content"},[n("v-uni-view",{staticClass:"text-grey"},[n("v-uni-text",{staticClass:"cuIcon-notification text-cut text-green margin-right-xs"}),t._v(t._s(e.stateName)+"-"+t._s(e.roomName))],1),n("v-uni-view",{staticClass:"text-gray text-sm flex"},[n("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(t.$t("applicant"))+"："+t._s(e.personName)+"-"+t._s(e.personTel))])],1)],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"text-grey text-xs"},[n("v-uni-text",{staticClass:"lg text-gray cuIcon-right margin-left-xs"})],1)],1)],1)],1)})),n("uni-load-more",{attrs:{status:t.loadingStatus,"content-text":t.loadingContentText}})],2):n("v-uni-view",[n("no-data-page")],1)],1)},i=[]},"508f":function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c223"),n("d4b5");var a=o(n("0437")),i=o(n("bf7c")),r=n("95ed"),s=n("dae2"),u=n("cc44"),c=o(n("9b8e"));c.default.prototype.$preventClick=u.preventClick;var l={data:function(){var t=this,e=function(e){return t.$t(e)};return{onoff:!0,communityId:"",renovationRoomList:[],page:1,loadingStatus:"loading",loadingContentText:{contentdown:e("pull_up_to_load_more"),contentrefresh:e("loading"),contentnomore:e("no_more")},applyStates:[{name:e("please_select")}],applyStatesIndex:0,applyState:"",roomName:""}},components:{noDataPage:a.default,uniLoadMore:i.default},onLoad:function(t){this.java110Context.onLoad(),this.loadApplyState()},onShow:function(){this.page=1,this.renovationRoomList=[],this.communityId=(0,s.getCurrentCommunity)().communityId,this.loadApply()},onReachBottom:function(){"noMore"!=this.loadingStatus&&this.loadApply()},methods:{_searchApply:function(){this.renovationRoomList=[],this.page=1,this.loadApply()},loadApplyState:function(){var t=this;(0,r.queryDictInfo)(this,{name:"room_renovation",type:"state"}).then((function(e){t.applyStates=t.applyStates.concat(e)}))},applyStatesChange:function(t){if(this.applyStatesIndex=t.target.value,0!=this.applyStatesIndex){var e=this.applyStates[this.applyStatesIndex];this.applyState=e.statusCd}else this.applyState=""},loadApply:function(){this.loadingStatus="more";var t=this,e={page:this.page,row:10,communityId:this.communityId,roomName:this.roomName,state:this.applyState};(0,r.queryRoomRenovation)(this,e).then((function(e){t.renovationRoomList=t.renovationRoomList.concat(e.data),t.page++,t.renovationRoomList.length!=e.total||(t.loadingStatus="noMore")}))},_toApplyRoomDetail:function(t){uni.navigateTo({url:"/pages/roomRenovationDetail/roomRenovationDetail?apply="+JSON.stringify(t)})}}};e.default=l},"694d":function(t,e,n){"use strict";var o=n("d80a"),a=n.n(o);a.a},"8c68":function(t,e,n){"use strict";n.r(e);var o=n("4eab"),a=n("ea52");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("694d");var r=n("828b"),s=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"6f4fe8ec",null,!1,o["a"],void 0);e["default"]=s.exports},"95ed":function(t,e,n){"use strict";n("6a54");var o=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.deleteRoomRenovationRecord=function(t,e){return new Promise((function(n,o){t.context.post({url:a.default.deleteRoomRenovationRecord,data:e,success:function(t){0==t.data.code?n():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryDictInfo=function(t,e){return new Promise((function(n,o){t.context.get({url:a.default.queryDictInfo,data:e,success:function(t){n(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryRoomRenovation=function(t,e){return new Promise((function(n,o){t.context.get({url:a.default.queryRoomRenovation,data:e,success:function(e){t.onoff=!0,0==e.data.code?n(e.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryRoomRenovationRecord=function(t,e){return new Promise((function(n,o){t.context.get({url:a.default.queryRoomRenovationRecord,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.queryRoomRenovationRecordDetail=function(t,e){return new Promise((function(n,o){t.context.get({url:a.default.queryRoomRenovationRecordDetail,data:e,success:function(t){0==t.data.code?n(t.data.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.saveRoomRenovationDetail=function(t,e){return new Promise((function(n,o){t.context.post({url:a.default.saveRoomRenovationDetail,data:e,success:function(t){0==t.data.code?n():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.updateRoomDecorationRecord=function(t,e){return new Promise((function(n,o){t.context.post({url:a.default.updateRoomDecorationRecord,data:e,success:function(t){0==t.data.code?n():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.updateRoomRenovationState=function(t,e){return new Promise((function(n,o){t.context.post({url:a.default.updateRoomRenovationState,data:e,success:function(t){0==t.data.code?n(t.data):wx.showToast({title:t.data.msg,icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.updateRoomToExamine=function(t,e){return new Promise((function(n,o){t.context.post({url:a.default.updateRoomToExamine,data:e,success:function(t){0==t.data.code?n():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}})}))},e.uploadVideo=function(t,e){return new Promise((function(n,o){t.context.post({url:a.default.uploadVideo,data:e,header:{"Content-Type":"multipart/form-data"},success:function(t){0==t.data.code?n():wx.showToast({title:"服务器异常了1",icon:"none",duration:2e3})},fail:function(t){console.log(t),wx.showToast({title:"服务器异常了2",icon:"none",duration:2e3})}})}))},n("bf0f");var a=o(n("f3d1"))},cc44:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.getFileType=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("."),n=e[e.length-1];if(!n)return"";n=n.toLocaleLowerCase();var o=["png","jpg","jpeg","bmp","gif","webp"];if(o.includes(n))return"image";var a=["mp4","m4v"];if(a.includes(n))return"video";var i=["mp3","m4a","wav","aac"];if(i.includes(n))return"audio";var r=["pdf","doc","docx","xls","xlsx","ppt","pptx","txt","plain"];return r.includes(n)?"office":"unknown"},e.preventClick=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this;n.onoff?(n.onoff=!1,t(e)):uni.showToast({title:"操作过于频繁",icon:"none"})},n("4626")},d80a:function(t,e,n){var o=n("e86d");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("967d").default;a("49c61cb8",o,!0,{sourceMap:!1,shadowMode:!1})},e86d:function(t,e,n){var o=n("c86c");e=o(!1),e.push([t.i,".item-content[data-v-6f4fe8ec]{width:100%;margin-left:%?20?%;line-height:1.6em}",""]),t.exports=e},ea52:function(t,e,n){"use strict";n.r(e);var o=n("508f"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a}}]);