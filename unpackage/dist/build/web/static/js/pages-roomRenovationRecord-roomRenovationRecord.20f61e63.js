(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-roomRenovationRecord-roomRenovationRecord"],{"25cd":function(t,o,n){"use strict";n.r(o);var e=n("5e02"),i=n("6635");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(o,t,(function(){return i[t]}))}(a);n("7023");var r=n("828b"),c=Object(r["a"])(i["default"],e["b"],e["c"],!1,null,"191c733e",null,!1,e["a"],void 0);o["default"]=c.exports},"2bde":function(t,o,n){"use strict";n("6a54");var e=n("f5bd").default;Object.defineProperty(o,"__esModule",{value:!0}),o.deleteRoomRenovationRecord=function(t,o,n){return new Promise((function(e,a){t.context.post({url:i.default.deleteRoomRenovationRecord,data:o,success:function(t){0==t.data.code?e():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.queryDictInfo=function(t,o,n){return new Promise((function(e,a){t.context.get({url:i.default.queryDictInfo,data:o,success:function(t){e(t.data)},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.queryRoomRenovation=function(t,o,n){return new Promise((function(e,a){t.context.get({url:i.default.queryRoomRenovation,data:o,success:function(o){t.onoff=!0,0==o.data.code?e(o.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.queryRoomRenovationRecord=function(t,o,n){return new Promise((function(e,a){t.context.get({url:i.default.queryRoomRenovationRecord,data:o,success:function(t){0==t.data.code?e(t.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.queryRoomRenovationRecordDetail=function(t,o,n){return new Promise((function(e,a){t.context.get({url:i.default.queryRoomRenovationRecordDetail,data:o,success:function(t){0==t.data.code?e(t.data.data):wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.saveRoomRenovationDetail=function(t,o,n){return new Promise((function(e,a){t.context.post({url:i.default.saveRoomRenovationDetail,data:o,success:function(t){0==t.data.code?e():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.updateRoomDecorationRecord=function(t,o,n){return new Promise((function(e,a){t.context.post({url:i.default.updateRoomDecorationRecord,data:o,success:function(t){0==t.data.code?e():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.updateRoomRenovationState=function(t,o,n){return new Promise((function(e,a){t.context.post({url:i.default.updateRoomRenovationState,data:o,success:function(t){0==t.data.code?e(t.data):wx.showToast({title:t.data.msg,icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.updateRoomToExamine=function(t,o,n){return new Promise((function(e,a){t.context.post({url:i.default.updateRoomToExamine,data:o,success:function(t){0==t.data.code?e():wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:i18n.t("server_error"),icon:"none",duration:2e3})}},n)}))},o.uploadVideo=function(t,o,n){return new Promise((function(e,a){t.context.post({url:i.default.uploadVideo,data:o,header:{"Content-Type":"multipart/form-data"},success:function(t){0==t.data.code?e():wx.showToast({title:"服务器异常了1",icon:"none",duration:2e3})},fail:function(t){console.log(t),wx.showToast({title:"服务器异常了2",icon:"none",duration:2e3})}},n)}))},n("bf0f");var i=e(n("f0de"))},"5a48":function(t,o,n){var e=n("c86c");o=e(!1),o.push([t.i,".record-add[data-v-191c733e]{position:fixed;right:%?10?%;bottom:%?50?%;width:%?100?%;height:%?100?%}.record-add img[data-v-191c733e]{width:100%;height:100%}.item-content[data-v-191c733e]{width:100%;margin-left:%?20?%;line-height:1.6em}",""]),t.exports=o},"5e02":function(t,o,n){"use strict";n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return a})),n.d(o,"a",(function(){return e}));var e={uniLoadMore:n("bcc2").default,noDataPage:n("31c4").default},i=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("v-uni-view",[t.renovationRecordList.length>0?n("v-uni-view",{staticClass:"margin-top"},[t._l(t.renovationRecordList,(function(o,e){return n("v-uni-view",{key:e,staticClass:"cu-list menu-avatar ",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t._showDetail(o)}}},[n("v-uni-view",{staticClass:"cu-item arrow"},[n("v-uni-view",{staticClass:"item-content"},[n("v-uni-view",{staticClass:"text-grey"},[n("v-uni-text",{staticClass:"cuIcon-notification text-cut text-blue margin-right-xs"}),t._v(t._s(o.stateName)+"-"+t._s(o.createTime))],1),n("v-uni-view",{staticClass:"text-gray text-sm flex"},[n("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(t.$t("operator"))+"："+t._s(o.staffName))])],1)],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"text-grey text-xs"},[n("v-uni-text",{staticClass:"lg text-gray cuIcon-right margin-left-xs"})],1)],1)],1)],1)})),n("uni-load-more",{attrs:{status:t.loadingStatus,"content-text":t.loadingContentText}})],2):n("v-uni-view",[n("no-data-page")],1),n("v-uni-view",{staticClass:"record-add",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t._addRecord()}}},[n("img",{attrs:{src:"/static/image/renovation-add.png",alt:""}})])],1)},a=[]},6635:function(t,o,n){"use strict";n.r(o);var e=n("94fd"),i=n.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){n.d(o,t,(function(){return e[t]}))}(a);o["default"]=i.a},"6c55":function(t,o,n){var e=n("5a48");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=n("967d").default;i("ccb638b2",e,!0,{sourceMap:!1,shadowMode:!1})},7023:function(t,o,n){"use strict";var e=n("6c55"),i=n.n(e);i.a},"94fd":function(t,o,n){"use strict";n("6a54");var e=n("f5bd").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n("c223"),n("d4b5");var i=e(n("31c4")),a=e(n("bcc2")),r=n("2bde"),c=n("2d9e"),s={data:function(){var t=this,o=function(o){return t.$t(o)};return{renovationInfo:[],communityId:"",renovationRecordList:[],page:1,loadingStatus:"loading",loadingContentText:{contentdown:o("pull_up_to_load_more"),contentrefresh:o("loading"),contentnomore:o("no_more")}}},components:{noDataPage:i.default,uniLoadMore:a.default},onLoad:function(t){this.java110Context.onLoad();this.renovationInfo=JSON.parse(t.apply),console.log(this.renovationInfo)},onShow:function(){this.page=1,this.renovationRecordList=[],this.communityId=(0,c.getCurrentCommunity)().communityId,this.loadApply()},onReachBottom:function(){"noMore"!=this.loadingStatus&&this.loadApply()},methods:{loadApply:function(){this.loadingStatus="more";var t=this,o={page:this.page,row:10,communityId:this.renovationInfo.communityId,rId:this.renovationInfo.rId,roomName:this.renovationInfo.roomName,roomId:this.renovationInfo.roomId};(0,r.queryRoomRenovationRecord)(this,o,0==this.renovationRecordList.length).then((function(o){t.renovationRecordList=t.renovationRecordList.concat(o.data),t.page++,t.renovationRecordList.length!=o.total||(t.loadingStatus="noMore")}))},_addRecord:function(){uni.navigateTo({url:"/pages/roomRenovationRecordHandle/roomRenovationRecordHandle?apply="+JSON.stringify(this.renovationInfo)})},_showDetail:function(t){t.communityId=this.renovationInfo.communityId,uni.navigateTo({url:"/pages/roomRenovationRecordDetail/roomRenovationRecordDetail?apply="+JSON.stringify(t)})}}};o.default=s}}]);